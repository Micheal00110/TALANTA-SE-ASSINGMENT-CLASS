<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Preview</title>
    <link rel="stylesheet" href="image.css">
</head>
<body>
    <div class="container">
        <h1>Image Preview</h1>
        <button onclick="window.location.href='image.html'" class="back-button">Back to Upload</button>
        <div class="preview-section">
            <div id="preview-gallery" class="preview-gallery"></div>
        </div>
        <div id="preview-modal" class="modal">
            <span class="close-modal">&times;</span>
            <img id="modal-image" class="modal-content">
        </div>
    </div>
    <script src="preview.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const previewGallery = document.getElementById('preview-gallery');
            const modal = document.getElementById('preview-modal');
            const modalImg = document.getElementById('modal-image');
            const closeModal = document.querySelector('.close-modal');

            // Get images from localStorage
            const images = JSON.parse(localStorage.getItem('previewImages')) || [];

            // Display images
            images.forEach((imageData, index) => {
                const imgContainer = document.createElement('div');
                imgContainer.className = 'image-container';

                const img = document.createElement('img');
                img.src = imageData;
                img.className = 'preview-image';

                img.addEventListener('click', () => {
                    modalImg.src = imageData;
                    modal.style.display = 'block';
                });

                imgContainer.appendChild(img);
                previewGallery.appendChild(imgContainer);
            });

            // Close modal events
            closeModal.addEventListener('click', () => modal.style.display = 'none');
            window.addEventListener('click', (e) => {
                if (e.target === modal) modal.style.display = 'none';
            });
        });
    </script>
</body>
</html>